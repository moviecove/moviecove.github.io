<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Register | MovieCove</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
@keyframes fadeIn {
  from { opacity:0; transform:scale(0.95); }
  to { opacity:1; transform:scale(1); }
}
</style>
</head>

<body style="
margin:0;
background:#000;
font-family:Arial;
display:flex;
justify-content:center;
align-items:center;
min-height:100vh;
">

<div id="registerBox" style="
background:#111;
width:90%;
max-width:360px;
padding:40px 35px;
border-radius:15px;
box-shadow:0 10px 30px rgba(0,0,0,0.6);
text-align:center;
animation:fadeIn 0.5s ease;
">

<img src="assets/logo/mc.svg" style="width:170px;margin-bottom:25px;">

<h2 style="color:#E50914;margin-bottom:20px;">Create Account</h2>

<form onsubmit="registerUser(event)" style="display:flex;flex-direction:column;gap:15px;">

<input type="email" id="email" placeholder="Email address" required
style="padding:12px;border-radius:8px;border:none;background:#222;color:#fff;">

<div style="position:relative;">
<input type="password" id="password" placeholder="Password" required
style="padding:12px;width:100%;border-radius:8px;border:none;background:#222;color:#fff;">
<i class="fa fa-eye" onclick="togglePassword()"
style="position:absolute;right:15px;top:14px;color:#777;cursor:pointer;"></i>
</div>

<button type="submit" style="
padding:12px;background:#E50914;border:none;border-radius:8px;
color:#fff;font-weight:bold;cursor:pointer;">
Register
</button>

</form>

<!-- GOOGLE SIGN UP -->
<button onclick="googleSignup()" style="
margin-top:15px;
padding:12px;
width:100%;
border-radius:8px;
background:#fff;
color:#000;
font-weight:bold;
border:none;
cursor:pointer;">
<i class="fa-brands fa-google"></i> Sign up with Google
</button>

<a href="login.html" style="display:block;margin-top:20px;color:#888;text-decoration:none;">
Already have an account? Login
</a>

</div>

<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyBGe_zawZt54ZP2xPrBF9KEos0U1h66lOE",
  authDomain: "moviecove-1.firebaseapp.com",
  projectId: "moviecove-1"
});

const auth=firebase.auth();
const provider=new firebase.auth.GoogleAuthProvider();

function togglePassword(){
  password.type=password.type==="password"?"text":"password";
}

function registerUser(e){
  e.preventDefault();
  auth.createUserWithEmailAndPassword(
    email.value,password.value
  ).then(()=>{
    alert("Registration successful");
    location.href="login.html";
  }).catch(err=>alert(err.message));
}

function googleSignup(){
  auth.signInWithPopup(provider).then(res=>{
    localStorage.setItem("loggedIn","yes");
    localStorage.setItem("userEmail",res.user.email);
    location.href="home.html";
  }).catch(err=>alert(err.message));
}
</script>

</body>
</html>