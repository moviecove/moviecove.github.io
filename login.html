<!DOCTYPE html>

<html lang="en">

<head>

<meta charset="UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Login | MovieCove</title>

<!-- Font Awesome -->

<link rel="stylesheet"

href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>

@keyframes fadeIn {

  from { opacity:0; transform:scale(0.95); }

  to { opacity:1; transform:scale(1); }

}

</style>

</head>

<body style="

  margin:0;

  padding:0;

  background:#000;

  font-family:Arial, sans-serif;

  display:flex;

  justify-content:center;

  align-items:center;

  min-height:100vh;

">

<div id="loginBox" style="

  background:#111;

  width:90%;

  max-width:360px;

  padding:40px 35px;

  border-radius:15px;

  box-shadow:0 10px 30px rgba(0,0,0,0.6);

  text-align:center;

  animation:fadeIn 0.5s ease;

">

  <!-- Logo -->

  <img src="assets/logo/mc.svg" alt="MovieCove"

  style="width:170px;margin-bottom:25px;">

  <h2 style="

    color:#E50914;

    margin-bottom:20px;

    font-size:2rem;

  ">Sign In</h2>

  <form onsubmit="loginUser(event)"

    style="display:flex;flex-direction:column;gap:15px;">

    <!-- Email -->

    <input type="email" id="email" placeholder="Email address" required

    style="

      padding:12px;

      border-radius:8px;

      border:none;

      background:#222;

      color:#fff;

      font-size:1rem;

    ">

    <!-- Password -->

    <div style="position:relative;">

      <input type="password" id="password" placeholder="Password" required

      style="

        padding:12px;

        width:100%;

        border-radius:8px;

        border:none;

        background:#222;

        color:#fff;

        font-size:1rem;

      ">

      <i class="fa fa-eye" onclick="togglePassword()"

      style="

        position:absolute;

        right:15px;

        top:14px;

        color:#777;

        cursor:pointer;

      "></i>

    </div>

    <button type="submit" style="

      margin-top:10px;

      padding:12px;

      background:#E50914;

      border:none;

      border-radius:8px;

      color:#fff;

      font-size:1rem;

      font-weight:bold;

      cursor:pointer;

    ">

      Login

    </button>

  </form>

  <a href="register.html"

  style="display:block;margin-top:20px;color:#888;text-decoration:none;">

    Don’t have an account? Register

  </a>

</div>
    <script>

/* ===== GLOBAL THEME APPLY ===== */

(function(){

  const theme = localStorage.getItem("theme");

  if(theme === "light"){

    document.body.classList.add("light");

  }

})();

</script>

<script>

function togglePassword(){

  const pass = document.getElementById("password");

  pass.type = pass.type === "password" ? "text" : "password";

}

function loginUser(e){

  e.preventDefault();

  const email = document.getElementById("email").value.trim();

  const password = document.getElementById("password").value.trim();

  fetch("login.php",{

    method:"POST",

    headers:{"Content-Type":"application/x-www-form-urlencoded"},

    body:`email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`

  })

  .then(res=>res.json())

  .then(data=>{

    if(data.success){

      // SAVE LOGIN STATE

      localStorage.setItem("loggedIn", "yes");

      localStorage.setItem("userEmail", data.email);

      loginBox.innerHTML = `

        <div style="text-align:center;animation:fadeIn 0.4s ease;">

          <div style="

            width:80px;height:80px;

            margin:0 auto 20px;

            border-radius:50%;

            background:#E50914;

            display:flex;

            align-items:center;

            justify-content:center;

            color:#fff;

            font-size:40px;

          ">✓</div>

          <h2 style="color:#E50914;">Login Successful</h2>

          <p style="color:#aaa;">Redirecting to homepage...</p>

        </div>

      `;

      setTimeout(()=>location.href="home.html",2000);

    } else {

      alert(data.message);

    }

  })

  .catch(()=>{

    alert("Login system not available");

  });

}

</script>

</body>

</html>